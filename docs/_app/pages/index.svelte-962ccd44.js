import{T as e,M as n,H as t,I as s,J as i,K as r,L as a,P as o,W as d,N as c,O as h,Q as l,S as w,i as m,s as p,l as u,f,G as g,d as x,A as S,e as v,t as W,c as A,a as L,g as M,F as b}from"../chunks/vendor-d7a61e14.js";class z{constructor(){this.init(),this.setupXR(),this.generateBalls(),window.addEventListener("resize",this.onWindowResize.bind(this),!1)}generateBalls(){const i=(new e).load("gradient.png");for(let e=0;e<10;e++){const e=new n(new t(.2*Math.random(),20,20),new s({map:i})),r=4*Math.random()-2,a=Math.random()+.5,o=-4*Math.random()-1;e.position.set(r,a,o),this.scene.add(e)}}onSelect(e){console.log(e)}async onSessionStarted(e){this.renderer.xr.setReferenceSpaceType("local"),await this.renderer.xr.setSession(e),this.currentSession=e}setupXR(){this.currentSession=null,this.renderer.xr.enabled=!0,navigator.xr.requestSession("immersive-ar").then(this.onSessionStarted.bind(this));const e=this.renderer.xr.getController(0);e.addEventListener("select",(()=>{alert("tapped!")})),this.scene.add(e),this.controller=e}init(){this.scene=new i;const e=new r(16777215,.6);this.scene.add(e);const n=new a(16777215,.6);n.position.set(0,0,200),this.scene.add(n),this.camera=new o(60,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,0,0),this.camera.lookAt(0,0,0),this.renderer=new d({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setAnimationLoop(this.animate.bind(this)),document.body.appendChild(this.renderer.domElement)}animate(){this.renderer.render(this.scene,this.camera)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}createText(e,t){const i=document.createElement("canvas"),r=i.getContext("2d");let a=null;const o=100;r.font="normal 100px Arial",a=r.measureText(e);const d=a.width;i.width=d,i.height=o,r.font="normal 100px Arial",r.textAlign="center",r.textBaseline="middle",r.fillStyle="#ffffff",r.fillText(e,d/2,50);const w=new c(i);w.needsUpdate=!0;const m=new s({color:16777215,side:h,map:w,transparent:!0}),p=new l(t*d/o,t);return new n(p,m)}}function E(e){let n,t;return{c(){n=v("p"),t=W("Loading...")},l(e){n=A(e,"P",{});var s=L(n);t=M(s,"Loading..."),s.forEach(x)},m(e,s){f(e,n,s),b(n,t)},d(e){e&&x(n)}}}function H(e){let n;let t=E(e);return{c(){t.c(),n=u()},l(e){t.l(e),n=u()},m(e,s){t.m(e,s),f(e,n,s)},p:g,i:g,o:g,d(e){t.d(e),e&&x(n)}}}function R(e){return S((()=>{window.focus();const e=new z;window.app=e})),[]}class T extends w{constructor(e){super(),m(this,e,R,H,p,{})}}export{T as default};
